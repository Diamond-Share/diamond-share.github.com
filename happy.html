<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ–≥–∞ –ö—Ä—É—Ç–æ–µ –ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ —Å 18-–ª–µ—Ç–∏–µ–º!</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/TextPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/EasePack.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/MotionPathPlugin.min.js"></script>
    <style>
        :root {
            --primary: #ff3e9d;
            --secondary: #0ff;
            --accent: #f0f;
            --text: #fff;
            --bg: #111;
            --success: #00ff8c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            overflow-x: hidden;
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            perspective: 1000px;
            min-height: 100vh;
            overscroll-behavior: none;
            cursor: default;
        }
        
        .screen {
            position: fixed;
            width: 100vw;
            height: 100vh;
            top: 0;
            left: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            text-align: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1.5s cubic-bezier(0.16, 1, 0.3, 1);
            will-change: opacity, transform;
            z-index: 1;
        }
        
        .screen.active {
            opacity: 1;
            pointer-events: all;
        }
        
        h1, h2, h3 {
            font-weight: 900;
            text-transform: uppercase;
            line-height: 1.2;
            margin-bottom: 1.5rem;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
        }
        
        h1 {
            font-size: clamp(2.5rem, 8vw, 5rem);
            background: linear-gradient(45deg, var(--primary), var(--accent), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 300% 300%;
            animation: gradientShift 5s ease infinite;
        }
        
        h2 {
            font-size: clamp(1.8rem, 6vw, 3rem);
            color: var(--secondary);
        }
        
        h3 {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            color: var(--accent);
        }
        
        p {
            font-size: clamp(1.1rem, 4vw, 1.5rem);
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto 1.5rem;
        }
        
        .btn {
            position: relative;
            margin-top: 2rem;
            padding: 1rem 2.5rem;
            font-size: 1.2rem;
            font-weight: 700;
            background: transparent;
            color: var(--text);
            border: 3px solid var(--primary);
            border-radius: 50px;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            z-index: 1;
            transform-style: preserve-3d;
            outline: none;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            z-index: -1;
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }
        
        .btn:hover {
            color: #000;
            box-shadow: 0 0 30px rgba(255, 62, 157, 0.6);
            transform: translateY(-3px) scale(1.05);
        }
        
        .btn:hover::before {
            transform: scaleX(1);
        }
        
        .btn:active {
            transform: translateY(0) scale(0.98);
        }
        
        /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤ */
        #screen1 {
            background: radial-gradient(circle at center, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            overflow: hidden;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
            transform-style: preserve-3d;
        }
        
        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            overflow: hidden;
        }
        
        .floating-element {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            filter: blur(30px);
            opacity: 0.7;
        }
        
        #screen2 {
            background: linear-gradient(135deg, #1e0028 0%, #2c0055 50%, #4e007f 100%);
        }
        
        .typing-container {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            max-width: 800px;
            margin: 0 auto;
            transform-style: preserve-3d;
        }
        
        .typed-text {
            min-height: 200px;
            font-size: 1.3rem;
            line-height: 1.7;
            text-align: left;
        }
        
        /* –ö—Ä–µ—Å—Ç–∏–∫ */
        .cross-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #ff0000;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30vw;
            color: white;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            mix-blend-mode: multiply;
        }
        
        /* –≠–∫—Ä–∞–Ω —Å –æ—à–∏–±–∫–∞–º–∏ */
        .error-screen {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background-color: #300;
            overflow: hidden;
            font-family: 'Courier New', monospace;
        }
        
        .error-message {
            position: absolute;
            font-size: 0.9rem;
            color: #ff5555;
            background-color: rgba(136, 0, 0, 0.5);
            padding: 0.5rem;
            border: 1px solid #ff0000;
            white-space: nowrap;
        }
        
        .dark-overlay {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }
        
        /* –§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω */
        #screen8 {
            background: linear-gradient(135deg, #000428 0%, #004e92 100%);
            overflow: hidden;
        }
        
        .photo-frame {
            width: 300px;
            height: 300px;
            border-radius: 20px;
            margin: 2rem auto;
            position: relative;
            overflow: hidden;
            border: 5px solid var(--primary);
            box-shadow: 0 0 50px rgba(255, 62, 157, 0.5);
            transform-style: preserve-3d;
            animation: float 6s ease-in-out infinite;
        }
        
        .photo-frame::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                transparent, transparent, transparent,
                rgba(255, 255, 255, 0.1),
                transparent, transparent, transparent
            );
            transform: rotate(30deg);
            animation: shine 4s infinite;
        }
        
        @keyframes shine {
            0% { transform: rotate(30deg) translate(-30%, -30%); }
            100% { transform: rotate(30deg) translate(30%, 30%); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(-1deg); }
            50% { transform: translateY(-20px) rotate(1deg); }
        }
        
        #birthday-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        #birthday-photo:hover {
            transform: scale(1.05);
        }
        
        /* –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ */
        .confetti-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: -1;
        }
        
        .confetti {
            position: absolute;
            width: 15px;
            height: 15px;
            opacity: 0;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent));
            border-radius: 50%;
        }
        
        /* 3D —ç—Ñ—Ñ–µ–∫—Ç—ã */
        .parallax-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            will-change: transform;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-5px, 5px); }
            40% { transform: translate(-5px, -5px); }
            60% { transform: translate(5px, 5px); }
            80% { transform: translate(5px, -5px); }
            100% { transform: translate(0); }
        }
        
        .pulse {
            animation: pulse 3s ease-in-out infinite;
        }
        
        .glitch {
            animation: glitch 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
        }
        
        /* –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä */
        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 1000;
        }
        
        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(255, 62, 157, 0.5);
        }
        
        /* –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞ */
        .skip-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 0.5rem 1rem;
            background: rgba(0, 0, 0, 0.5);
            color: var(--text);
            border: 1px solid var(--secondary);
            border-radius: 20px;
            cursor: pointer;
            z-index: 1001;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        
        .skip-btn:hover {
            opacity: 1;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç —á–∞—Å—Ç–∏—Ü */
        .particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
        }
        
        /* –ê—É–¥–∏–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä */
        .audio-control {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            cursor: pointer;
            z-index: 1001;
            border: 1px solid var(--primary);
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –Ω–µ–æ–Ω–æ–≤–æ–≥–æ —Å–≤–µ—á–µ–Ω–∏—è */
        .neon-text {
            text-shadow: 
                0 0 5px currentColor,
                0 0 10px currentColor,
                0 0 20px currentColor,
                0 0 40px currentColor;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ñ–æ—Ç–æ */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            max-width: 90%;
            max-height: 90%;
            border-radius: 10px;
            box-shadow: 0 0 50px rgba(255, 62, 157, 0.8);
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 40px;
            cursor: pointer;
        }
        
        /* –°–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            transition: opacity 0.5s ease;
        }
        
        .loader-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
        .social-buttons {
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: flex;
            gap: 10px;
            z-index: 1001;
        }
        
        .social-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid var(--secondary);
        }
        
        .social-btn:hover {
            transform: translateY(-3px);
            background: var(--primary);
        }
        
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(var(--primary), var(--accent));
            border-radius: 4px;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –º–∞—Ç—Ä–∏—Ü—ã */
        .matrix-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
            opacity: 0.3;
        }
        
        .matrix-rain {
            position: absolute;
            top: -50px;
            animation: matrix-rain 5s linear infinite;
            color: var(--success);
            font-family: 'Courier New', monospace;
            font-size: 18px;
            writing-mode: vertical-rl;
            text-orientation: upright;
        }
        
        @keyframes matrix-rain {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100vh); }
        }
        
        /* –ú–µ–¥–∏–∞ –∑–∞–ø—Ä–æ—Å—ã */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            
            .typing-container {
                padding: 1rem;
            }
            
            .photo-frame {
                width: 200px;
                height: 200px;
            }
            
            .btn {
                padding: 0.8rem 1.8rem;
                font-size: 1rem;
            }
            
            .social-buttons {
                bottom: 70px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            p {
                font-size: 1rem;
            }
            
            .photo-frame {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑—á–∏–∫ -->
    <div class="loader" id="loader">
        <div class="loader-spinner"></div>
    </div>
    
    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞ -->
    <button class="skip-btn" id="skipBtn">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å ‚Üí</button>
    
    <!-- –ê—É–¥–∏–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä -->
    <div class="audio-control" id="audioControl">‚ô™</div>
    
    <!-- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ -->
    <div class="social-buttons">
        <div class="social-btn" id="shareBtn">üîó</div>
        <div class="social-btn" id="replayBtn">‚Üª</div>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω 1 - –°—Ç–∞—Ä—Ç–æ–≤—ã–π -->
    <div class="screen active" id="screen1">
        <div class="floating-elements" id="floatingElements1"></div>
        <div class="matrix-container" id="matrixContainer"></div>
        <div class="hero-content">
            <h1>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!</h1>
            <p>–ì–æ—Ç–æ–≤ –∫ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º–æ–º—É –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—é?</p>
            <button class="btn" id="startBtn">–ù–∞—á–∞—Ç—å –ü—Ä–∞–∑–¥–Ω–∏–∫!</button>
        </div>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω 2 - –¢–µ–∫—Å—Ç —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π -->
    <div class="screen" id="screen2">
        <div class="floating-elements" id="floatingElements2"></div>
        <div class="typing-container">
            <div class="typed-text" id="typedText1"></div>
        </div>
        <button class="btn" id="nextBtn2" style="display: none; opacity: 0;">–û—Ç–ø—Ä–∞–≤–∏—Ç—å ‚Üí</button>
    </div>
    
    <!-- –ö—Ä–µ—Å—Ç–∏–∫ -->
    <div class="cross-overlay" id="crossOverlay">‚úï</div>
    
    <!-- –≠–∫—Ä–∞–Ω 3 -->
    <div class="screen" id="screen3">
        <div class="parallax-layer" data-depth="0.1"></div>
        <h2 data-splitting>–í–æ—Ç —è —Å–Ω–∞—á–∞–ª–∞ —Ö–æ—Ç–µ–ª —Å–¥–µ–ª–∞—Ç—å –≤–æ—Ç —Ç–∞–∫, –Ω–æ...</h2>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω 4 -->
    <div class="screen" id="screen4">
        <div class="parallax-layer" data-depth="0.1"></div>
        <h2 data-splitting>–≠—Ç–æ –±—ã–ª–æ –±—ã —Å–ª–∏—à–∫–æ–º —Å–∫—É—á–Ω–æ <span class="highlight">:(</span></h2>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω 5 - –û—à–∏–±–∫–∏ -->
    <div class="screen" id="screen5">
        <div class="error-screen" id="errorScreen"></div>
        <div class="dark-overlay" id="darkOverlay" style="opacity: 0;">
            <div class="typing-container">
                <div class="typed-text" id="typedText5"></div>
            </div>
        </div>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω 6 -->
    <div class="screen" id="screen6">
        <div class="parallax-layer" data-depth="0.1"></div>
        <h2 data-splitting>–¢–ê–ö –°–¢–û–ü!</h2>
        <h3 data-splitting>–≠–¢–û –¢–£–¢ –ù–ï –†–ï–ö–õ–ê–ú–ê</h3>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω 7 -->
    <div class="screen" id="screen7">
        <div class="parallax-layer" data-depth="0.1"></div>
        <div class="typing-container">
            <div class="typed-text" id="typedText7"></div>
        </div>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω 8 - –§–∏–Ω–∞–ª—å–Ω—ã–π -->
    <div class="screen" id="screen8">
        <div class="confetti-container" id="confettiContainer"></div>
        <div class="parallax-layer" data-depth="0.1"></div>
        <h1 class="pulse">–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!</h1>
        <div class="photo-frame">
            <img id="birthday-photo" src="https://i.ibb.co/JjqNyt1v/In-Shot-20250902-011957223.jpg" alt="–í–∏–Ω–æ–≤–Ω–∏–∫ —Ç–æ—Ä–∂–µ—Å—Ç–≤–∞">
        </div>
        <div class="final-text">
            <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è —Å <span class="highlight neon-text" style="color: var(--primary);">18-–ª–µ—Ç–∏–µ–º</span>!</p>
            <p>–ñ–µ–ª–∞—é –∑–¥–æ—Ä–æ–≤—å—è, —Å—á–∞—Å—Ç—å—è, —É—Å–ø–µ—Ö–æ–≤ –≤–æ –≤—Å–µ—Ö –¥–µ–ª–∞—Ö,</p>
            <p>–∫—Ä–µ–ø–∫–æ–π –¥—Ä—É–∂–±—ã, –≤–µ—Ä–Ω–æ–π –ª—é–±–≤–∏ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∂–µ–ª–∞–Ω–∏–π! üéÇ</p>
        </div>
        <button class="btn" id="restartBtn">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ñ–æ—Ç–æ -->
    <div class="modal" id="photoModal">
        <span class="close-modal" id="closeModal">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>

    <!-- –ê—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <audio id="backgroundMusic" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-happy-birthday-to-you-493.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="clickSound">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="confettiSound">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-falling-confetti -389.mp3" type="audio/mpeg">
    </audio>

    <script>
        // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –ø–ª–∞–≥–∏–Ω—ã GSAP
        gsap.registerPlugin(TextPlugin);
        
        // –¢–µ–∫—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
        const texts = {
            screen2: "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! üéâ\n\n–ù—É —á—Ç–æ –º–æ–≥—É —Å–∫–∞–∑–∞—Ç—å...\n\n–ß—Ç–æ–± –∑–¥–æ—Ä–æ–≤—å–µ –±—ã–ª–æ –∫—Ä–µ–ø–∫–∏–º,\n–º–µ—á—Ç—ã —Å–±—ã–≤–∞–ª–∏—Å—å,\n–¥–µ–Ω—å–≥–∏ –≤–æ–¥–∏–ª–∏—Å—å,\n–∞ –±–ª–∏–∑–∫–∏–µ —Ä–∞–¥–æ–≤–∞–ª–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!\n\n–ò –∫–æ–Ω–µ—á–Ω–æ, —á—Ç–æ–± –≤—Å—ë, –æ —á—ë–º —Ç—ã –º–µ—á—Ç–∞–µ—à—å,\n—Å—Ç–∞–ª–æ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é! üí´",
            screen5: "–ê –≤–æ—Ç –µ—Å–ª–∏ –±—ã —Ç—ã –ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è Hi-Fi –∫–∞—á–µ—Å—Ç–≤–æ–º –∑–≤—É–∫–∞,\n–≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –∏–∑–±–µ–∂–∞—Ç—å...\n\n–ù–æ —Ä–∞–∑ —É–∂ —Ç–∞–∫ –≤—ã—à–ª–æ,\n–¥–∞–≤–∞–π –ø–µ—Ä–µ–π–¥—ë–º –∫ –Ω–∞—Å—Ç–æ—è—â–µ–º—É –ø—Ä–∞–∑–¥–Ω–∏–∫—É! üöÄ",
            screen7: "–ù—É —á—Ç–æ –º–æ–≥—É —Å–∫–∞–∑–∞—Ç—å...\n\n–¢—ã - –ø–æ—Ç—Ä—è—Å–∞—é—â–∏–π —á–µ–ª–æ–≤–µ–∫,\n–∏ —è –æ—á–µ–Ω—å —Ä–∞–¥,\n—á—Ç–æ —É –º–µ–Ω—è –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å\n–ø–æ–∑–¥—Ä–∞–≤–∏—Ç—å —Ç–µ–±—è —Å —ç—Ç–∏–º –¥–Ω—ë–º!\n\n–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! ü•≥ –ü.–° –ñ–¥—É –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–∞ —Å–≤–∞–¥—å–±—É üòò"
        };
        
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentScreen = 1;
        let musicPlaying = false;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑—á–∏–∫ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                document.getElementById('loader').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loader').style.display = 'none';
                }, 500);
            }, 1500);
            
            // –°–æ–∑–¥–∞–µ–º –ø–ª–∞–≤–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            createFloatingElements('floatingElements1', 30);
            createFloatingElements('floatingElements2', 20);
            
            // –°–æ–∑–¥–∞–µ–º –º–∞—Ç—Ä–∏—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
            createMatrixEffect();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫
            const startBtn = document.getElementById('startBtn');
            const nextBtn2 = document.getElementById('nextBtn2');
            const skipBtn = document.getElementById('skipBtn');
            const restartBtn = document.getElementById('restartBtn');
            const audioControl = document.getElementById('audioControl');
            const shareBtn = document.getElementById('shareBtn');
            const replayBtn = document.getElementById('replayBtn');
            const closeModal = document.getElementById('closeModal');
            const birthdayPhoto = document.getElementById('birthday-photo');
            
            startBtn.addEventListener('click', startCelebration);
            nextBtn2.addEventListener('click', showCross);
            skipBtn.addEventListener('click', skipToEnd);
            restartBtn.addEventListener('click', restartCelebration);
            audioControl.addEventListener('click', toggleMusic);
            shareBtn.addEventListener('click', shareCelebration);
            replayBtn.addEventListener('click', restartCelebration);
            closeModal.addEventListener('click', closePhotoModal);
            birthdayPhoto.addEventListener('click', openPhotoModal);
            
            // –ü–∞—Ä–∞–ª–ª–∞–∫—Å —ç—Ñ—Ñ–µ–∫—Ç
            setupParallax();
            
            // –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä
            setupProgressBar();
            
            // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ
            preloadAudio();
            
            // –°–±—Ä–æ—Å —Å–∫—Ä–æ–ª–ª–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            window.scrollTo(0, 0);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
            document.addEventListener('keydown', handleKeyPress);
        });
        
        // –ó–∞–ø—É—Å–∫ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞
        function startCelebration() {
            playSound('clickSound');
            
            // –°–±—Ä–æ—Å —Å–∫—Ä–æ–ª–ª–∞
            window.scrollTo(0, 0);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞
            gsap.to('#screen1', {
                opacity: 0,
                duration: 1,
                ease: 'power2.inOut',
                onComplete: () => {
                    document.getElementById('screen1').classList.remove('active');
                    document.getElementById('screen2').classList.add('active');
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
                    gsap.fromTo('#screen2', 
                        { y: 50, opacity: 0 },
                        { y: 0, opacity: 1, duration: 1.5, ease: 'elastic.out(1, 0.5)' }
                    );
                    
                    // –ü–µ—á–∞—Ç–∞–µ–º —Ç–µ–∫—Å—Ç
                    typeText('typedText1', texts.screen2, () => {
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
                        gsap.to('#nextBtn2', {
                            display: 'block',
                            opacity: 1,
                            duration: 0.8,
                            ease: 'back.out(4)'
                        });
                    });
                }
            });
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
            gsap.to('#startBtn', {
                scale: 0.9,
                duration: 0.2,
                yoyo: true,
                repeat: 1,
                ease: 'power2.inOut'
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            dispatchScreenChange(2);
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –∫—Ä–µ—Å—Ç–∏–∫
        function showCross() {
            playSound('clickSound');
            
            // –°–±—Ä–æ—Å —Å–∫—Ä–æ–ª–ª–∞
            window.scrollTo(0, 0);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
            gsap.to('#nextBtn2', {
                scale: 1.1,
                duration: 0.3,
                yoyo: true,
                repeat: 1,
                ease: 'power2.inOut',
                onComplete: () => {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—Ä–µ—Å—Ç–∏–∫
                    const cross = document.getElementById('crossOverlay');
                    gsap.to(cross, {
                        opacity: 1,
                        duration: 0.5,
                        onComplete: () => {
                            // –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è –∫—Ä–µ—Å—Ç–∏–∫–∞
                            gsap.to(cross, {
                                opacity: 0,
                                duration: 0.5,
                                delay: 0.5,
                                onComplete: () => {
                                    // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–∫—Ä–∞–Ω—É
                                    transitionToScreen(3);
                                }
                            });
                        }
                    });
                }
            });
        }
        
        // –ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
        function transitionToScreen(screenNumber) {
            // –°–±—Ä–æ—Å —Å–∫—Ä–æ–ª–ª–∞
            window.scrollTo(0, 0);
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —ç–∫—Ä–∞–Ω
            gsap.to(`#screen${currentScreen}`, {
                opacity: 0,
                duration: 1,
                ease: 'power2.inOut',
                onComplete: () => {
                    document.getElementById(`screen${currentScreen}`).classList.remove('active');
                    document.getElementById(`screen${screenNumber}`).classList.add('active');
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
                    gsap.fromTo(`#screen${screenNumber}`, 
                        { y: 100, opacity: 0 },
                        { y: 0, opacity: 1, duration: 1.5, ease: 'back.out(1.7)' }
                    );
                    
                    currentScreen = screenNumber;
                    
                    // –õ–æ–≥–∏–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
                    switch(screenNumber) {
                        case 3:
                            // –ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —ç–∫—Ä–∞–Ω–∞ 3
                            gsap.to('#screen3 h2', {
                                duration: 2,
                                text: {
                                    value: "–í–æ—Ç —è —Å–Ω–∞—á–∞–ª–∞ —Ö–æ—Ç–µ–ª —Å–¥–µ–ª–∞—Ç—å –≤–æ—Ç —Ç–∞–∫, –Ω–æ...",
                                    speed: 0.5,
                                    delimiter: ""
                                },
                                ease: 'none',
                                onComplete: () => {
                                    setTimeout(() => {
                                        transitionToScreen(4);
                                    }, 2000);
                                }
                            });
                            break;
                            
                        case 4:
                            // –ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —ç–∫—Ä–∞–Ω–∞ 4
                            gsap.to('#screen4 h2', {
                                duration: 2,
                                text: {
                                    value: "–≠—Ç–æ –±—ã–ª–æ –±—ã —Å–ª–∏—à–∫–æ–º —Å–∫—É—á–Ω–æ :(",
                                    speed: 0.5,
                                    delimiter: ""
                                },
                                ease: 'none',
                                onComplete: () => {
                                    setTimeout(() => {
                                        transitionToScreen(5);
                                        showErrors();
                                    }, 2000);
                                }
                            });
                            break;
                            
                        case 5:
                            // –û—à–∏–±–∫–∏ —É–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ showErrors()
                            break;
                            
                        case 6:
                            // –ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —ç–∫—Ä–∞–Ω–∞ 6
                            const h2 = document.querySelector('#screen6 h2');
                            const h3 = document.querySelector('#screen6 h3');
                            
                            gsap.to(h2, {
                                duration: 1.5,
                                text: {
                                    value: "–¢–ê–ö –°–¢–û–ü!",
                                    speed: 0.3,
                                    delimiter: ""
                                },
                                ease: 'none',
                                onComplete: () => {
                                    gsap.to(h3, {
                                        duration: 2,
                                        text: {
                                            value: "–≠–¢–û –¢–£–¢ –ù–ï –†–ï–ö–õ–ê–ú–ê",
                                            speed: 0.3,
                                            delimiter: ""
                                        },
                                        ease: 'none',
                                        onComplete: () => {
                                            setTimeout(() => {
                                                transitionToScreen(7);
                                            }, 2000);
                                        }
                                    });
                                }
                            });
                            break;
                            
                        case 7:
                            // –ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —ç–∫—Ä–∞–Ω–∞ 7
                            typeText('typedText7', texts.screen7, () => {
                                setTimeout(() => {
                                    transitionToScreen(8);
                                    createConfetti();
                                    playSound('confettiSound');
                                }, 3000);
                            });
                            break;
                            
                        case 8:
                            // –§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω - –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º
                            break;
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
                    dispatchScreenChange(screenNumber);
                }
            });
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫–∏
        function showErrors() {
            const errorScreen = document.getElementById('errorScreen');
            
            // –°–æ–∑–¥–∞–µ–º –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const error = document.createElement('div');
                    error.className = 'error-message';
                    error.textContent = `ERROR ${Math.floor(Math.random() * 10000)}: SYSTEM FAILURE [CODE: 0x${Math.floor(Math.random()*16777215).toString(16)}]`;
                    error.style.left = `${Math.random() * 90}%`;
                    error.style.top = `${Math.random() * 90}%`;
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
                    gsap.fromTo(error, 
                        { opacity: 0, scale: 0.5 },
                        { 
                            opacity: 1, 
                            scale: 1, 
                            duration: 0.5,
                            onComplete: () => {
                                // –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
                                setTimeout(() => {
                                    gsap.to(error, {
                                        opacity: 0,
                                        duration: 0.5,
                                        onComplete: () => error.remove()
                                    });
                                }, 2000);
                            }
                        }
                    );
                    
                    errorScreen.appendChild(error);
                }, i * 50);
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–º–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π —Å —Ç–µ–∫—Å—Ç–æ–º
            setTimeout(() => {
                gsap.to('#darkOverlay', {
                    opacity: 1,
                    duration: 1,
                    onComplete: () => {
                        typeText('typedText5', texts.screen5, () => {
                            setTimeout(() => {
                                transitionToScreen(6);
                            }, 3000);
                        });
                    }
                });
            }, 3000);
        }
        
        // –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
        function createConfetti() {
            const confettiContainer = document.getElementById('confettiContainer');
            confettiContainer.innerHTML = '';
            
            for (let i = 0; i < 200; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                
                // –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç
                const colors = [
                    'linear-gradient(45deg, #ff3e9d, #0ff)',
                    'linear-gradient(45deg, #0ff, #f0f)',
                    'linear-gradient(45deg, #f0f, #ff3e9d)',
                    'linear-gradient(45deg, #00ff8c, #0ff)'
                ];
                
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = `${Math.random() * 15 + 5}px`;
                confetti.style.height = `${Math.random() * 15 + 5}px`;
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
                confetti.style.left = `${Math.random() * 100}%`;
                
                // –ê–Ω–∏–º–∞—Ü–∏—è
                const duration = Math.random() * 3 + 2;
                const delay = Math.random() * 2;
                
                gsap.to(confetti, {
                    y: window.innerHeight + 100,
                    rotation: Math.random() * 360,
                    opacity: 1,
                    duration: duration,
                    delay: delay,
                    ease: 'power1.out',
                    onComplete: () => {
                        confetti.remove();
                    }
                });
                
                confettiContainer.appendChild(confetti);
            }
        }
        
        // –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–≤–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
        function createFloatingElements(containerId, count) {
            const container = document.getElementById(containerId);
            
            for (let i = 0; i < count; i++) {
                const element = document.createElement('div');
                element.className = 'floating-element';
                
                // –°–ª—É—á–∞–π–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
                const size = Math.random() * 100 + 50;
                element.style.width = `${size}px`;
                element.style.height = `${size}px`;
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
                element.style.left = `${Math.random() * 100}%`;
                element.style.top = `${Math.random() * 100}%`;
                
                // –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç
                const colors = [
                    'rgba(255, 62, 157, 0.3)',
                    'rgba(0, 255, 255, 0.3)',
                    'rgba(240, 0, 255, 0.3)',
                    'rgba(0, 255, 140, 0.3)'
                ];
                element.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                // –ê–Ω–∏–º–∞—Ü–∏—è
                gsap.to(element, {
                    x: Math.random() * 100 - 50,
                    y: Math.random() * 100 - 50,
                    rotation: Math.random() * 360,
                    duration: Math.random() * 10 + 10,
                    repeat: -1,
                    yoyo: true,
                    ease: 'sine.inOut'
                });
                
                container.appendChild(element);
            }
        }
        
        // –°–æ–∑–¥–∞—Ç—å –º–∞—Ç—Ä–∏—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
        function createMatrixEffect() {
            const container = document.getElementById('matrixContainer');
            const chars = '01';
            
            for (let i = 0; i < 50; i++) {
                const rain = document.createElement('div');
                rain.className = 'matrix-rain';
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
                rain.style.left = `${Math.random() * 100}%`;
                
                // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
                rain.style.animationDelay = `${Math.random() * 5}s`;
                
                // –°–ª—É—á–∞–π–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
                rain.style.animationDuration = `${Math.random() * 3 + 3}s`;
                
                // –°–ª—É—á–∞–π–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
                let text = '';
                for (let j = 0; j < 30; j++) {
                    text += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                
                rain.textContent = text;
                container.appendChild(rain);
            }
        }
        
        // –ù–∞–ø–µ—á–∞—Ç–∞—Ç—å —Ç–µ–∫—Å—Ç —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø–µ—á–∞—Ç–∏
        function typeText(elementId, text, onComplete) {
            const element = document.getElementById(elementId);
            element.innerHTML = '';
            
            gsap.to(element, {
                duration: text.length / 20,
                text: {
                    value: text,
                    speed: 1,
                    delimiter: ""
                },
                ease: 'none',
                onComplete: onComplete
            });
        }
        
        // –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫ –∫–æ–Ω—Ü—É
        function skipToEnd() {
            playSound('clickSound');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
            gsap.to('#skipBtn', {
                scale: 0.9,
                duration: 0.2,
                yoyo: true,
                repeat: 1,
                ease: 'power2.inOut',
                onComplete: () => {
                    // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
                    document.querySelectorAll('.screen').forEach(screen => {
                        screen.classList.remove('active');
                        gsap.to(screen, { opacity: 0, duration: 0.5 });
                    });
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω
                    document.getElementById('screen8').classList.add('active');
                    gsap.to('#screen8', { opacity: 1, duration: 1 });
                    
                    // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
                    createConfetti();
                    playSound('confettiSound');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
                    dispatchScreenChange(8);
                }
            });
        }
        
        // –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∞–∑–¥–Ω–∏–∫
        function restartCelebration() {
            playSound('clickSound');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
            gsap.to('#restartBtn', {
                scale: 0.9,
                duration: 0.2,
                yoyo: true,
                repeat: 1,
                ease: 'power2.inOut',
                onComplete: () => {
                    // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
                    document.querySelectorAll('.screen').forEach(screen => {
                        screen.classList.remove('active');
                        gsap.to(screen, { opacity: 0, duration: 0.5 });
                    });
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π —ç–∫—Ä–∞–Ω
                    document.getElementById('screen1').classList.add('active');
                    gsap.to('#screen1', { opacity: 1, duration: 1 });
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
                    dispatchScreenChange(1);
                }
            });
        }
        
        // –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É
        function toggleMusic() {
            const music = document.getElementById('backgroundMusic');
            const control = document.getElementById('audioControl');
            
            if (musicPlaying) {
                music.pause();
                control.textContent = '‚ô™';
                control.style.opacity = '0.5';
            } else {
                music.play().catch(e => console.log("–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ"));
                control.textContent = '‚ô´';
                control.style.opacity = '1';
            }
            
            musicPlaying = !musicPlaying;
            playSound('clickSound');
        }
        
        // –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º
        function shareCelebration() {
            playSound('clickSound');
            
            if (navigator.share) {
                navigator.share({
                    title: '–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!',
                    text: '–ü–æ—Å–º–æ—Ç—Ä–∏ —ç—Ç–æ –∫—Ä—É—Ç–æ–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!',
                    url: window.location.href
                })
                .catch(error => console.log('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Web Share API:', error));
            } else {
                // –ö–æ–ø–∏—Ä—É–µ–º —Å—Å—ã–ª–∫—É –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
                navigator.clipboard.writeText(window.location.href)
                    .then(() => {
                        alert('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
                    })
                    .catch(error => console.log('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏:', error));
            }
        }
        
        // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ñ–æ—Ç–æ
        function openPhotoModal() {
            const modal = document.getElementById('photoModal');
            const modalImg = document.getElementById('modalImage');
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ
            modalImg.src = "data:image/svg+xml;utf8,<svg xmlns='https://i.ibb.co/JjqNyt1v/In-Shot-20250902-011957223.jpg width='800' height='800' viewBox='0 0 24 24' fill='none' stroke='%23ff3e9d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><circle cx='12' cy='7' r='4'></circle><path d='M5 21v-2a7 7 0 0 1 14 0v2'></path></svg>";
            
            modal.style.display = 'flex';
            gsap.to(modal, { opacity: 1, duration: 0.3 });
        }
        
        // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        function closePhotoModal() {
            const modal = document.getElementById('photoModal');
            
            gsap.to(modal, {
                opacity: 0,
                duration: 0.3,
                onComplete: () => {
                    modal.style.display = 'none';
                }
            });
        }
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–ª–ª–∞–∫—Å —ç—Ñ—Ñ–µ–∫—Ç–∞
        function setupParallax() {
            document.addEventListener('mousemove', (e) => {
                const x = (window.innerWidth / 2 - e.clientX) / 25;
                const y = (window.innerHeight / 2 - e.clientY) / 25;
                
                document.querySelectorAll('.parallax-layer').forEach(layer => {
                    const depth = parseFloat(layer.getAttribute('data-depth'));
                    gsap.to(layer, {
                        x: x * depth,
                        y: y * depth,
                        duration: 1.5,
                        ease: 'power2.out'
                    });
                });
            });
        }
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä–∞
        function setupProgressBar() {
            const progressBar = document.getElementById('progressBar');
            
            window.addEventListener('scroll', () => {
                const windowHeight = window.innerHeight;
                const documentHeight = document.documentElement.scrollHeight;
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const progress = (scrollTop / (documentHeight - windowHeight)) * 100;
                
                gsap.to(progressBar, {
                    width: `${progress}%`,
                    duration: 0.3,
                    ease: 'power2.out'
                });
            });
        }
        
        // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ
        function preloadAudio() {
            const audioElements = document.querySelectorAll('audio');
            
            audioElements.forEach(audio => {
                audio.volume = 0.5;
                audio.preload = 'auto';
            });
        }
        
        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫
        function playSound(soundId) {
            const sound = document.getElementById(soundId);
            
            if (sound) {
                sound.currentTime = 0;
                sound.play().catch(e => console.log("–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ"));
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à
        function handleKeyPress(e) {
            // –ü—Ä–æ–±–µ–ª - –ø–∞—É–∑–∞/–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º—É–∑—ã–∫–∏
            if (e.code === 'Space') {
                e.preventDefault();
                toggleMusic();
            }
            
            // –°—Ç—Ä–µ–ª–∫–∞ –≤–ø—Ä–∞–≤–æ - —Å–ª–µ–¥—É—é—â–∏–π —ç–∫—Ä–∞–Ω
            if (e.code === 'ArrowRight') {
                if (currentScreen < 8) {
                    transitionToScreen(currentScreen + 1);
                }
            }
            
            // –°—Ç—Ä–µ–ª–∫–∞ –≤–ª–µ–≤–æ - –ø—Ä–µ–¥—ã–¥—É—â–∏–π —ç–∫—Ä–∞–Ω
            if (e.code === 'ArrowLeft') {
                if (currentScreen > 1) {
                    transitionToScreen(currentScreen - 1);
                }
            }
            
            // Escape - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫ –∫–æ–Ω—Ü—É
            if (e.code === 'Escape') {
                skipToEnd();
            }
        }
        
        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞
        function dispatchScreenChange(screenNumber) {
            currentScreen = screenNumber;
            const event = new CustomEvent('screenChange', { detail: { screen: screenNumber } });
            document.dispatchEvent(event);
        }
    </script>
</body>
</html>