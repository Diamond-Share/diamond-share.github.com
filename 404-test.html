<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>404</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: Arial, sans-serif; 
            background: #f5f5f5; 
            line-height: 1.4;
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }
        .container { 
            max-width: 100%;
            height: 100vh;
            margin: 0 auto;
            overflow: hidden;
            position: relative;
        }
        .header, .content, .ad-container { 
            background: white; 
            margin-bottom: 10px; 
            padding: 12px; 
        }
        .header { text-align: center; }
        .ad-container { 
            text-align: center; 
            margin: 10px auto; 
        }
        .time-display { 
            background: #f0f0f0; 
            padding: 10px; 
            margin: 10px 0; 
        }
        .countdown { 
            font-weight: bold; 
            color: #c00; 
        }
        h1 { font-size: 1.3rem; margin-bottom: 5px; }
        h2 { font-size: 1.1rem; margin: 10px 0 5px 0; }
        p { font-size: 0.9rem; margin-bottom: 8px; color: #555; }
        
        /* –ë–∞–Ω–Ω–µ—Ä VK/MAIL */
        .banner {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #07f;
            color: white;
            padding: 20px;
            border-radius: 10px;
            z-index: 1000;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }
        
        /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ */
        #vk_ads, #mail_ads {
            min-height: 50px;
            overflow: hidden;
        }
        
        /* –ì–∞—Ä–∞–Ω—Ç–∏—è —á—Ç–æ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –±–ª–æ–∫–∏ –Ω–µ —Å–¥–≤–∏–Ω—É—Ç –∫–æ–Ω—Ç–µ–Ω—Ç */
        .mrg-tag {
            display: block !important;
            margin: 0 auto;
        }
        
        /* –°—Ç–∏–ª—å –¥–ª—è –æ—à–∏–±–∫–∏ 404 */
        .error-404 {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: white;
            font-family: Arial, sans-serif;
            font-size: 1.5rem;
            color: #c00;
        }
    </style>
</head>
<body>
    <div id="main-content" style="display: none;">
        <div class="container">
            <!-- –ë–∞–Ω–Ω–µ—Ä VK/MAIL –ø–æ —Ü–µ–Ω—Ç—Ä—É -->
            <div class="banner">
                VK/MAIL
                <!-- –ö–æ–¥ –±–∞–Ω–Ω–µ—Ä–∞ Mail.ru -->
                <script async src="https://ad.mail.ru/static/ads-async.js"></script>
                <ins class="mrg-tag"
                    style="display:inline-block;width:240px;height:400px"
                    data-ad-client="ad-1886256"
                    data-ad-slot="1886256">
                </ins>  
                <script>
                    (MRGtag = window.MRGtag || []).push({});
                </script>
            </div>
            
            <div class="header">
                <h1>üì± –ú–æ–±–∏–ª—å–Ω—ã–π —Å–∞–π—Ç —Å —Ä–µ–∫–ª–∞–º–æ–π</h1>
                <p>–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ</p>
            </div>

            <div class="content">
                <h2>‚ú® –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç</h2>
                <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –Ω–∞—à –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç!</p>
                
                <!-- –†–µ–∫–ª–∞–º–Ω—ã–π –±–ª–æ–∫ VK -->
                <div id="vk_ads"></div>
                <script>
                (function() {
                    // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∫–ª–∞–º—ã VK
                    setTimeout(function() {
                        var vkAd = document.getElementById('vk_ads');
                        vkAd.innerHTML = '<div style="background:#f0f0f0; padding:20px; text-align:center;">–†–µ–∫–ª–∞–º–∞ VK</div>';
                    }, 1000);
                })();
                </script>
                
                <div class="time-display">
                    <p>üïí –í—Ä–µ–º—è: <strong><span id="current-time"></span></strong></p>
                    <p>‚è∞ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑: <span class="countdown" id="countdown">7</span> —Å–µ–∫</p>
                </div>
            </div>

            <div class="ad-container">
                <h3>üì¢ –†–µ–∫–ª–∞–º–Ω—ã–π –±–ª–æ–∫</h3>
                <!-- –†–µ–∫–ª–∞–º–Ω—ã–π –±–ª–æ–∫ MAIL -->
                <div id="mail_ads"></div>
                <script>
                (function() {
                    // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∫–ª–∞–º—ã MAIL
                    setTimeout(function() {
                        var mailAd = document.getElementById('mail_ads');
                        mailAd.innerHTML = '<div style="background:#f0f0f0; padding:20px; text-align:center;">–†–µ–∫–ª–∞–º–∞ MAIL</div>';
                    }, 1500);
                })();
                </script>
            </div>

            <div class="content">
                <h2>üìã –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                <p>–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤</p>
            </div>

            <div style="text-align: center; margin-top: 15px;">
                <p>üîÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ <span class="countdown">7</span> —Å–µ–∫—É–Ω–¥</p>
            </div>
        </div>
    </div>
    
    <div id="error-content" class="error-404" style="display: none;">
        404 - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
    </div>
    
    <script>
        const allowedIPs = ['62.33.72.39', '37.29.40.249', '90.188.245.211', '91.149.71.174'];
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è IP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function getUserIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è IP:', error);
                return null;
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–∫–∏ 404
        function show404Error() {
            document.getElementById('error-content').style.display = 'flex';
            document.getElementById('main-content').style.display = 'none';
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        function showMainContent() {
            document.getElementById('error-content').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–∞–π—Ç–∞
            initSiteFunctionality();
        }
        
        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ IP
        async function checkIP() {
            const userIP = await getUserIP();
            
            if (userIP && allowedIPs.includes(userIP)) {
                // –ï—Å–ª–∏ IP —Å–æ–≤–ø–∞–¥–∞–µ—Ç - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç
                showMainContent();
            } else {
                // –ï—Å–ª–∏ IP –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É 404
                show404Error();
            }
        }
        
        // –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–∞–π—Ç–∞
        function initSiteFunctionality() {
            // –ó–∞–ø—Ä–µ—Ç —Å–∫—Ä–æ–ª–ª–∞ –∏ –¥–≤–∏–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.addEventListener('touchmove', function(e) {
                e.preventDefault();
            }, { passive: false });

            function updateTime() {
                const now = new Date();
                document.getElementById('current-time').textContent = now.toLocaleTimeString('ru-RU');
            }

            function startCountdown(seconds) {
                let counter = seconds;
                const countdownElements = document.querySelectorAll('.countdown');
                
                const interval = setInterval(() => {
                    countdownElements.forEach(el => el.textContent = counter);
                    counter--;
                    if (counter < 0) clearInterval(interval);
                }, 1000);
            }

            updateTime();
            startCountdown(3);
            setTimeout(() => window.location.reload(), 3000);
            setInterval(updateTime, 1000);
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É IP –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', checkIP);
    </script>
</body>

</html>
